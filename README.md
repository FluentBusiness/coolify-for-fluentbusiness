# üöÄ Server Setup for Coolify

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ "—á–∏—Å—Ç–æ–≥–æ" —Å–µ—Ä–≤–µ—Ä–∞ (Ubuntu/Debian) –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ **Coolify**.

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –≥–æ—Ç–æ–≤–∏—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä Coolify –æ—Ç—Ä–∞–±–æ—Ç–∞–ª –±–µ–∑ –æ—à–∏–±–æ–∫.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã Coolify (—Å–æ–≥–ª–∞—Å–Ω–æ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://coolify.io/docs/get-started/installation)):

* **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä (CPU):** 2 —è–¥—Ä–∞
* **–ü–∞–º—è—Ç—å (RAM):** 2 –ì–ë
* **–î–∏—Å–∫ (Storage):** 30 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
* **–û–°:** Ubuntu 22.04+ / Debian 11+

## üõ† –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç (setup.sh)

1.  **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:** –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ –∏ —Å–∞–º—É —Å–∏—Å—Ç–µ–º—É (`apt update && upgrade`), —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã (`curl`, `wget`, `git`, `jq`, `htop`, `openssl`, `putty-tools`).
2.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Swap:** –°–æ–∑–¥–∞–µ—Ç –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç **Swap-—Ñ–∞–π–ª –Ω–∞ 4GB**, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã Docker –∏ —Å–±–æ—Ä–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö —Å –Ω–µ–±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º RAM.
3.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ Docker. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç `get.docker.com`.
4.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (UFW):**
    * –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    * –†–∞–∑—Ä–µ—à–∞–µ—Ç –ø–æ—Ä—Ç—ã: `22` (SSH), `80/443` (Web), `443/UDP` (HTTP/3).
    * **–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è Coolify:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç—ã `8000` (–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è) –∏ `6001` (Realtime Service).
5.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–µ–π:**
    * –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –ø–∞—Ä—É –∫–ª—é—á–µ–π `Ed25519` –¥–ª—è root-–¥–æ—Å—Ç—É–ø–∞.
    * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `.ppk` –≤–µ—Ä—Å–∏—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Windows (PuTTY).
    * **–í–∞–∂–Ω–æ:** –í—ã–≤–æ–¥–∏—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –≤ –∫–æ–Ω—Ü–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ *—É–¥–∞–ª—è–µ—Ç –∏—Ö —Å –¥–∏—Å–∫–∞* –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
6.  **SSH Hardening (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å):**
    * –û—Ç–∫–ª—é—á–∞–µ—Ç –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é (`PasswordAuthentication no`).
    * –í–∫–ª—é—á–∞–µ—Ç –≤—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á–∞–º.
7.  **Fail2Ban:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Fail2Ban –¥–ª—è –∑–∞—â–∏—Ç—ã SSH –æ—Ç –ø–µ—Ä–µ–±–æ—Ä–∞ –ø–∞—Ä–æ–ª–µ–π (brute-force).

---

## ‚ö°Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–±–∏—Ç –Ω–∞ –¥–≤–∞ —à–∞–≥–∞: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∞–º–æ–π –ø–∞–Ω–µ–ª–∏.

### –®–∞–≥ 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ–¥ `root` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É. –°–∫—Ä–∏–ø—Ç –∑–∞–¥–∞—Å—Ç –≤–æ–ø—Ä–æ—Å –æ –Ω–∞—á–∞–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–Ω–∞–∂–º–∏—Ç–µ `y`) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

```bash
bash <(curl -sL https://raw.githubusercontent.com/FluentBusiness/coolify-for-fluentbusiness/refs/heads/master/setup.sh))

```

> **‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –í –∫–æ–Ω—Ü–µ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à–∏ **Private SSH Keys**. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö –≤ –Ω–∞–¥–µ–∂–Ω–æ–µ –º–µ—Å—Ç–æ **—Å—Ä–∞–∑—É –∂–µ**. –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Ö –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –∞ –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω.

### –®–∞–≥ 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Coolify

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω (–Ω–∞—Å—Ç—Ä–æ–µ–Ω Docker, Firewall –∏ Swap), –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä Coolify:

```bash
curl -fsSL https://cdn.coollabs.io/coolify/install.sh) | bash

```

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `http://<IP-–≤–∞—à–µ–≥–æ-—Å–µ—Ä–≤–µ—Ä–∞>:8000`

```

```